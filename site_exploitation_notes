Развернут сайт на VPS, том же, что и whosoracle, описание базовой конфиги сделано в users/Sezam/Documents/projects/oracul/notes_vps
0. --- project contents:----
/home/teplitsa_prod.py   =  sequoia/prod/teplitsa_prod.py
/var/www/structproduct.ru/  = sequoia/prod/controlpanel/space/
+
postgresql, db sequoia

1.
зашел в консоли удалённой тачки в постгрес, для этого:
а) перешел на пользователя postgres:
sudo su - postgres
б)зашел в его консоль 
psql
в) на всякий проверил инфу о соединении
\conninfo
г)создал базу sequoia:
createdb sequoia
д)вышел
\q

не получилось, поэтому создал базу из слоника:
CREATE DATABASE sequoia
  WITH OWNER = postgres
       ENCODING = 'UTF8'
       TABLESPACE = pg_default
       LC_COLLATE = 'C'
       LC_CTYPE = 'C'
       CONNECTION LIMIT = -1;

создал таблицу sensors из слоника же:
CREATE TABLE public.sensors
(
  id bigint NOT NULL DEFAULT nextval('auto_id_sensors'::regclass),
  internal_temp1 integer,
  internal_temp2 integer,
  internal_temp3 integer,
  internal_temp4 integer,
  external_temp1 integer,
  internal_hum1 integer,
  internal_hum2 integer,
  internal_hum3 integer,
  internal_hum4 integer,
  external_hum1 integer,
  datetime timestamp without time zone,
  seq_hum1 integer
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.sensors
  OWNER TO postgres;
2. настраиваю веб сервер для приёма внешних обращений
для этого в /etc/apache2/sites-enabled/structproduct.ru.conf добавил настройки обратного прокси:
     ProxyPass /data http://127.0.0.1:9080/ retry=0 
     ProxyPassReverse /data http://127.0.0.1:9080/
суть этой настройки сводится к тому, что при обращении извне клиента в корневой внешний адрес/data апач делает редирект этого обращения на внутренний порт 9080
и ответ внутреннего сервиса, который будет возвращаться в этот порт отправляет с корневого внешнего адреса/data

поднял отдельный вебсервер на python2.7, который слушает 9080 порт, и отдаёт верную строчку 
кратко принцип его работы тут: https://habrahabr.ru/sandbox/28540/
запуск вебсервера спец командой, которая не отключает процесс при закрытии терминала: nohup ./teplica_webserver.py >/dev/null &


